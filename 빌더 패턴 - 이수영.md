# Builder

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/a426573d-eea1-4c0e-8c03-2e1481650dea/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221119T061835Z&X-Amz-Expires=86400&X-Amz-Signature=5d32067febf2a94333dd4febc3ff2ff08561f67910757e7b50d092080110d59c&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject)

: ì´ëŠ” ë³µì¡í•œ ê°ì²´ë¥¼ ë‹¨ê³„ë³„ë¡œ êµ¬ì„±í•˜ê¸° ìœ„í•œ creational ë””ìì¸ íŒ¨í„´ì´ë‹¤. ê°™ì€ ì œì‘ ì½”ë“œë¥¼ì‚¬ìš©í•˜ì—¬ ê°ì²´ì˜ ë‹¤ì–‘í•œ ìœ í˜•ë“¤ê³¼ í‘œí˜„ì„ ì œì‘í•  ìˆ˜ ìˆë‹¤.

ìœ„ ê·¸ë¦¼ì—ì„œ ë³´ë©´ íŠ¹ì • ë‹¨ê³„ë¥¼ ê±°ì³ì„œ ë¡œë´‡ì´ íƒ„ìƒí•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

---

# ğŸ˜¢ Problem

![1.ì§‘ í´ë˜ìŠ¤ë¥¼ ì´ìš©í•´ì„œ í•˜ìœ„ í´ë˜ìŠ¤ë¡œ í™•ì¥í•˜ëŠ” ê²½ìš°](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/94d0fe9e-3967-40f1-8183-1b8dd4357fc9/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221119T061851Z&X-Amz-Expires=86400&X-Amz-Signature=67c41bf930cf3db11c80a31c5bad875164f467a4422d3a3bd2899a46a57444b4&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject)

1.ì§‘ í´ë˜ìŠ¤ë¥¼ ì´ìš©í•´ì„œ í•˜ìœ„ í´ë˜ìŠ¤ë¡œ í™•ì¥í•˜ëŠ” ê²½ìš°

ë§ì€ í•„ë“œì™€ ì¤‘ì²©ëœ ê°ì²´ë“¤ì„ ë‹¨ê³„ë³„ë¡œ ì´ˆê¸°í™”í•´ì•¼ í•˜ëŠ” ë³µì¡í•œ ê°ì²´ë¥¼ ìƒê°í•´ë³´ì.

ìœ„ì˜ ê·¸ë¦¼ì²˜ëŸ¼ ì§‘ì„ ë§Œë“œë ¤ë©´ ì§€ë¶• ë§Œë“¤ê¸°, ë¬¸ ë§Œë“¤ê¸°, ì°½ë¬¸ ë§Œë“¤ê¸° ë“±ì„ ë§Œë“¤ì–´ì•¼í•œë‹¤.

í•˜ì§€ë§Œ ìˆ˜ì˜ì¥ ë§Œë“¤ê¸°, ì •ì› ë§Œë“¤ê¸° ë“±ì˜ ìš”êµ¬ì‚¬í•­ì´ ë” ìƒê¸´ë‹¤ë©´ ìœ„ì™€ ê°™ì´ ìì‹ í´ë˜ìŠ¤ë¡œ ë¹¼ê²Œ ë˜ëŠ”ë° ì´ ê²½ìš° í•„ë“œê°€ í•˜ë‚˜ ë” ìƒê¸°ë©´ ìì‹ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ ë” ìƒê²¨ì•¼í•œë‹¤. ê³„ì¸µì´ ì—„ì²­ ì»¤ì§ˆ ê²ƒì´ë‹¤.

![2.ì§‘ í´ë˜ìŠ¤ì˜ í™•ì¥ìì— ëª¨ë“  ë§¤ê°œë³€ìˆ˜ë¥¼ ë„£ëŠ” ê²½ìš°](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/151d7b3c-047d-40f5-b142-d5e26221b922/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221119T061905Z&X-Amz-Expires=86400&X-Amz-Signature=8a6e8e3b439fb1bb4082296a5194812335ce339af1f2a71333c66a8f953ee1c2&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject)

2.ì§‘ í´ë˜ìŠ¤ì˜ í™•ì¥ìì— ëª¨ë“  ë§¤ê°œë³€ìˆ˜ë¥¼ ë„£ëŠ” ê²½ìš°

í•˜ìš°ìŠ¤ í•˜ë‚˜ì˜ ê°ì²´ ë§Œë“¤ê³  í•„ë“œì— ë‹¤ ë•Œë ¤ ë„£ìœ¼ë©´ ë˜ì§€ ì•Šì„ê¹Œ?

ìƒì„±ìê°€ ì—„ì²­ ì»¤ì§€ê³  ëª»ìƒê²¨ì§€ê³  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë§¤ê°œë³€ìˆ˜ë„ ë°›ì•„ì•¼í•œë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.

---

# ğŸ˜€ Solution

ê·¸ë˜ì„œ ë¹Œë” íŒ¨í„´ì—ì„œëŠ” ê°ì²´ ìƒì„± ì½”ë“œë¥¼ ì¶”ì¶œí•´ì„œ builderë¼ëŠ” ë³„ë„ì˜ ê°ì²´ë“¤ë¡œ ì´ë™í•œë‹¤.

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/415dcc8c-2186-4798-85b4-a131003836bc/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221119T061922Z&X-Amz-Expires=86400&X-Amz-Signature=eb62a2b1952c82c1bf86e9ff35a0ec03bf2f53dfdc1909da39a92f64526c54d5&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject)

ì§‘ìœ¼ë¡œ ìƒê°í•´ë³´ë©´ ì§€ë¶• ì„¤ì¹˜í•˜ê³  ë²½ ì„¤ì¹˜í•˜ê³  ë¬¸ ì„¤ì¹˜í•˜ê³ ì™€ ê°™ì€ ë‹¨ê³„ë“¤ì„ ì´ìš©í•´ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ê°ì²´ ìƒì„± ì‹œì— ì›í•˜ëŠ” í•„ìš”ë¡œ í•˜ëŠ” ë‹¨ê³„ë“¤ë§Œ ì´ìš©í•´ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ ëœë‹¤. 

## Director

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/8bf95cf2-1d17-468a-a014-f0d237e47a8f/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221119T061939Z&X-Amz-Expires=86400&X-Amz-Signature=ab9018dc3018050239018dc7ad0d8c5cc9c3935171a93c9dbd9757ad1710dcb2&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject)

ë” ë‚˜ì•„ê°€ì„œ ì œí’ˆ ìƒì„± ì‹œ ì‚¬ìš© ë¹Œë” ë‹¨ê³„ë“¤ì— ëŒ€í•œ í˜¸ì¶œì„ ë””ë ‰í„°ë¼ëŠ” ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤. ë””ë ‰í„° í´ë˜ìŠ¤ëŠ” ì œì‘ ë‹¨ê³„ë“¤ì„ ì‹¤í–‰í•˜ëŠ” ìˆœì„œë¥¼ ì •ì˜í•˜ëŠ” ë°˜ë©´ ë¹Œë”ëŠ” ë‹¨ê³„ë“¤ì— ëŒ€í•œ êµ¬í˜„ì„ ì œê³µí•œë‹¤.

---

# Structure

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/c3136f52-86dc-49a8-9a93-ee41250913fb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221119T062003Z&X-Amz-Expires=86400&X-Amz-Signature=d56c17df0168a8bdb96b92b37a4b34f4e95bd8b23827f61baf54e1ad29e3bf4f&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject)

1. **ë¹Œë”**Â ì¸í„°í˜ì´ìŠ¤ëŠ” ëª¨ë“  ìœ í˜•ì˜ ë¹Œë”ë“¤ì— **ê³µí†µì ì¸ ì œí’ˆ ìƒì„± ë‹¨ê³„ë“¤ì„ ì„ ì–¸**í•©ë‹ˆë‹¤.
2. **êµ¬ìƒ ë¹Œë”**ë“¤ì€ ìƒì„± ë‹¨ê³„ë“¤ì˜ ë‹¤ì–‘í•œ êµ¬í˜„ì„ ì œê³µí•©ë‹ˆë‹¤. ë˜ êµ¬ìƒ ë¹Œë”ë“¤ì€ ê³µí†µ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë”°ë¥´ì§€ ì•ŠëŠ” ì œí’ˆë“¤ë„ ìƒì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. **ì œí’ˆë“¤**ì€ ê·¸ ê²°ê³¼ë¡œ ë‚˜ì˜¨ ê°ì²´ë“¤ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ë¹Œë”ë“¤ì— ì˜í•´ ìƒì„±ëœ ì œí’ˆë“¤ì€ ê°™ì€ í´ë˜ìŠ¤ ê³„ì¸µêµ¬ì¡° ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì— ì†í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
4. **ë””ë ‰í„°**Â í´ë˜ìŠ¤ëŠ” **ìƒì„± ë‹¨ê³„ë“¤ì„ í˜¸ì¶œí•˜ëŠ” ìˆœì„œë¥¼ ì •ì˜**í•˜ë¯€ë¡œ ì œí’ˆë“¤ì˜ íŠ¹ì • ì„¤ì •ì„ ë§Œë“¤ê³  ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
5. **í´ë¼ì´ì–¸íŠ¸**ëŠ” ë¹Œë” ê°ì²´ë“¤ ì¤‘ í•˜ë‚˜ë¥¼ ë””ë ‰í„°ì™€ ì—°ê²°í•´ì•¼ í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ìœ„ ì—°ê²°ì€ ë””ë ‰í„° ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ë“¤ì„ í†µí•´ í•œ ë²ˆë§Œ ìˆ˜í–‰ë˜ë©°, ê·¸ í›„ ë””ë ‰í„°ëŠ” ëª¨ë“  ì¶”ê°€ ìƒì„±ì— í•´ë‹¹ ë¹Œë” ê°ì²´ë“¤ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ í´ë¼ì´ì–¸íŠ¸ê°€ ë¹Œë” ê°ì²´ë¥¼ ë””ë ‰í„°ì˜ í”„ë¡œë•ì…˜ ë©”ì„œë“œì— ì „ë‹¬í•  ë•Œë¥¼ ìœ„í•œ ëŒ€ì•ˆì  ì ‘ê·¼ ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤. ì´ ê²½ìš° ë””ë ‰í„°ì™€ í•¨ê»˜ ë¬´ì–¸ê°€ë¥¼ ë§Œë“¤ ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ë¹Œë”ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/7b257ea5-9eb8-4f06-895e-5980477cc5c3/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221119T062255Z&X-Amz-Expires=86400&X-Amz-Signature=7ea65ba5bb53f80929ba69f4ae2e7b53c57030b7e9203d0e2f84b7db7cacf9f0&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject)

ì°¨ì™€ ë§¤ë‰´ì–¼ì€ ì•„ì˜ˆ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ê°ì²´ì´ê¸°ì— ë‹¤ë¥¸ ë¹Œë”ë¡œ êµ¬ì„±í•˜ê³  SUVë‚˜ SportsCarì™€ ê°™ì€ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ì°¨ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„  CarBuilderë¥¼ ì´ìš©í•˜ì§€ë§Œ Engine ì¢…ë¥˜ë‚˜ ì‹œíŠ¸ê°€ ë‹¬ë¼ì§€ê³  SUVì—” ìŠ¤í¬ì¸  ì˜µì…˜ì´ ë“¤ì–´ê°€ì§€ ì•Šê³  SportsCarì—” ì˜µì…˜ì´ ë“¤ì–´ê°€ëŠ” ë°©ì‹ìœ¼ë¡œ ë‹¨ê³„ì™€ ìŠ¤íƒ€ì¼ì„ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.

ê·¸ë¦¬ê³  DirectorëŠ” ê·¸ ê³¼ì •ì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìœ„ì„ ë°›ì•„ì„œ ëŒ€ì‹  ì²˜ë¦¬í•´ì£¼ê³  ê·¸ ê³¼ì •ì„ ì•Œê³  ìˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´, ì œì¼ ì¸ê¸° ìˆëŠ” ì˜µì…˜ìœ¼ë¡œ ë§ì¶°ì£¼ì„¸ìš” ì´ëŸ¬ë©´ ë„µ í•˜ë©´ì„œ ê·¸ ë‹¨ê³„ë¡œ ì²˜ë¦¬í•˜ëŠ”ê²Œ Directorì´ë‹¤.

---

# ì˜ˆì œì½”ë“œ

```java
// Product
class Voucher {
    private final UUID voucherId;
    private final double discountAmount;
    private final String voucherType;
    private UUID ownedCustomerId;
    private final LocalDateTime createdAt;

    public Voucher(UUID voucherId, double discountAmount, String voucherType, UUID ownedCustomerId, LocalDateTime createdAt) {
        this.voucherId = voucherId;
        this.discountAmount = discountAmount;
        this.voucherType = voucherType;
        this.ownedCustomerId = ownedCustomerId;
        this.createdAt = createdAt;
    }

    @Override
    public String toString() {
        return "Voucher{" +
                "voucherId=" + voucherId +
                ", discountAmount=" + discountAmount +
                ", voucherType='" + voucherType + '\'' +
                ", ownedCustomerId=" + ownedCustomerId +
                ", createdAt=" + createdAt +
                '}';
    }
}

class FixedAmountVoucher extends Voucher {
    public FixedAmountVoucher(UUID voucherId, double discountAmount, String voucherType, UUID ownedCustomerId, LocalDateTime createdAt) {
        super(voucherId, discountAmount, voucherType, ownedCustomerId, createdAt);
    }
}

class PercentDiscountVoucher extends Voucher {
    public PercentDiscountVoucher(UUID voucherId, double discountAmount, String voucherType, UUID ownedCustomerId, LocalDateTime createdAt) {
        super(voucherId, discountAmount, voucherType, ownedCustomerId, createdAt);
    }
}

-------

// Builder
class VoucherBuilder {
    private final UUID voucherId = UUID.randomUUID();
    private double discountAmount = 1000;
    private String voucherType = "FixedAmountVoucher";
    private UUID ownedCustomerId = null;
    private final LocalDateTime createdAt = LocalDateTime.now();

    public VoucherBuilder setDiscountAmount(double discountAmount) {
        this.discountAmount = discountAmount;
        return this;
    }

    public VoucherBuilder setVoucherType(String voucherType) {
        this.voucherType = voucherType;
        return this;
    }

    public VoucherBuilder setOwnedCustomerId(UUID ownedCustomerId) {
        this.ownedCustomerId = ownedCustomerId;
        return this;
    }

    public Voucher build() {
        if (voucherType.equals("FixedAmountVoucher")) {
            return new FixedAmountVoucher(voucherId, discountAmount, voucherType, ownedCustomerId, createdAt);
        }

        return new PercentDiscountVoucher(voucherId, discountAmount, voucherType, ownedCustomerId, createdAt);
    }
}

-------

public class Client {
    public static void main(String[] args) {
        Voucher voucher = new VoucherBuilder()
                .setVoucherType("PercentDiscountVoucher")
                .setOwnedCustomerId(UUID.randomUUID())
                .setDiscountAmount(80)
                .build();

        Voucher voucher2 = new VoucherBuilder()
                .setVoucherType("PercentDiscountVoucher")
                .setDiscountAmount(80)
                .build();

        System.out.println(voucher);
        System.out.println(voucher2);
    }
}
```

# ì‚¬ìš©ë˜ëŠ” ì˜ˆì‹œ

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/29482afc-616b-46d8-9231-639f985eafe5/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221119%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221119T062313Z&X-Amz-Expires=86400&X-Amz-Signature=73e8b8eb30be61b5c6f832556687de470fa53384ac752233b4f02dbab4f862a9&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject)

# **Builder ìš”ì•½**

: ****ë³µì¡í•œ êµ¬ì„±ì˜ ê°ì²´ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ìƒì„±í•˜ê¸° ìœ„í•œ íŒ¨í„´ì´ë‹¤.****

ì´ëŸ° ë³µì¡í•œ êµ¬ì„±ì˜ ê°ì²´ë¥¼ ë§Œë“¤ê¸° ìœ„í•œ ë‘ ê°€ì§€ ë°©ë²•ì´ ì¡´ì¬.

1. í•˜ìœ„ í´ë˜ìŠ¤ë¡œ í™•ì¥ì‹œí‚¤ê¸°
    - í•˜ìœ„ í´ë˜ìŠ¤ì˜ ìˆ˜ê°€ ì—„ì²­ ë§ì•„ì§ˆ ìˆ˜ ìˆë‹¤.
    - ê¶ì „, í•œì˜¥, ì•„íŒŒíŠ¸ ë“± ì¡°ê¸ˆë§Œ ë‹¬ë¼ì§€ëŠ” ìŠ¤íƒ€ì¼ì— ë”°ë¼ë„ ì¶”ê°€ì ì¸ í•˜ìœ„ í´ë˜ìŠ¤ê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.
2. ìƒì„±ìì— ëª¨ë“  ë§¤ê°œë³€ìˆ˜ ë‹¤ ë„£ê³  ë§Œë“¤ê¸°.
    - ìƒì„± ì‹œ ì½”ë“œê°€ ë§¤ìš° ë”ëŸ¬ì›Œì§€ê³  ì•ˆì“°ëŠ” ë§¤ê°œë³€ìˆ˜ëŠ” ì—„ì²­ ì•ˆì“¸ ìˆ˜ ìˆë‹¤.

â‡’ Builder íŒ¨í„´ì„ ì´ìš©í•´ì„œ ë‚´ê°€ ë„£ê³ ì í•˜ëŠ” ì¸ìë§Œ ë„£ì–´ì¤„ ìˆ˜ ìˆì–´ì„œ ì½”ë“œê°€ ê¹”ë”í•˜ë‹¤ í•˜ì§€ë§Œ ì—¬ëŸ¬ ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í•´ì„œ ì½”ë“œì˜ ì „ë°˜ì  ë³µì¡ë„ê°€ ì¦ê°€í•œë‹¤.

---

# ë§í¬

[design-patterns/src/main/java/com/programmers/java/builder at main Â· twotwobread/design-patterns](https://github.com/twotwobread/design-patterns/tree/main/src/main/java/com/programmers/java/builder)

[ë¹Œë” íŒ¨í„´](https://refactoring.guru/ko/design-patterns/builder)

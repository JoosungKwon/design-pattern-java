## í”„ë¡œí† íƒ€ì… íŒ¨í„´


ğŸ’¡  **`rototype patternì€ ì½”ë“œë¥¼ ê·¸ë“¤ì˜ í´ë˜ìŠ¤ë“¤ì— ì˜ì¡´ì‹œí‚¤ì§€ ì•Šê³  ê¸°ì¡´ ê°ì²´ë“¤ì„ ë³µì‚¬í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ìƒì„± ë””ìì¸Â íŒ¨í„´ - refactoring.guru`** 

<img src="https://refactoring.guru/images/patterns/content/prototype/prototype.png">

**`ì¦‰, ê¸°ì¡´ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³µì œí•˜ì—¬ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤(ìì‹ ì˜ ë³µì œì¸ Prototype)ë¥¼ ì œê³µí•˜ëŠ” íŒ¨í„´`**

## â“ ì™œ? í”„ë¡œí†  íƒ€ì…ì´ í•„ìš”í•˜ì§€? ë¬´ìŠ¨ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê±¸ê¹Œ?

- ë¬¸ì œ ìƒí™©ê³¼ í•´ê²°ê³¼ì •ì„ í†µí•´ì„œ ì•Œì•„ë³´ì

### ë¬¸ì œìƒí™©

ë§Œì•½ íŠ¹ì • ê°ì²´ì˜ ì •í™•í•œ ë³µì‚¬ë³¸ì„ ë§Œë“¤ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œ?

```java
public class Item {

    private String name;
    private int price;
    private final LocalDateTime createdAt;

    public Item(String name, int price) {
        this(name, price, LocalDateTime.now());
    }

    private Item(String name, int price, LocalDateTime createdAt) {
        this.name = name;
        this.price = price;
        this.createdAt = createdAt;
    }
}
```

```java
public class Apple extends Item {

    private Category category;

    public Apple(String name, int price, Category category) {
        super(name, price);
        this.category = category;
    }
}
```

```java
public class Test {
    public static void main(String[] args) {
        OrderItmes orderItmes = new OrderItmes(List.of(
            new Apple("ë§¥ë¶", 1000000, Category.MACBOOK),
            new Apple("ì•„ì´í°", 100000, Category.IPHONE),
            new Apple("ì•„ì´íŒ¨ë“œ", 100000, Category.IPAD)
        ));
    }
}
```

```java
public class OrderItmes {
    private final List<Item> items;
    public OrderItmes(List<Item> items) {
        this.items = items; // ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ì„œ **Itemsë¥¼ ë³µì‚¬í•˜ë ¤ë©´?**
    }
}
```

### ì¼ë°˜ì ìœ¼ë¡œ ìƒê°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€

- ë¨¼ì € ê°™ì€ í´ë˜ìŠ¤ì˜ ìƒˆ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
- ë‹¤ìŒ ì›ë³¸ ê°ì²´ì˜ ëª¨ë“  í•„ë“œë“¤ì„ ì‚´í´ë³¸ í›„ í•´ë‹¹ ê°’ë“¤ì„ ìƒˆ ê°ì²´ì— ë³µì‚¬í•œë‹¤.

```java
public class OrderItmes {

    private final List<Item> items;
    
    public OrderItmes(List<Item> items) {
    
        List<Items> copyedItems = new ArraryList<>();
        
        for(Items item : items) {
            //copyedItems.add(item); 
            // ->  ì´ë ‡ê²Œ í•˜ë©´ ê°ì²´ì˜ ê°™ì€ ì£¼ì†Œ ê°’ì´ ë„˜ì–´ê°€ê¸° ë•Œë¬¸ì— ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ê°€ ì „ë‹¬ë¨

            copyedItems.add(new Apple(item.getName(), item.getPrice()); // ì¹´í…Œê³ ë¦¬ê°€ ì—†ì–´ì„œ ì—ëŸ¬
        } 
				
    }
}
```

### ì—¬ê¸°ì—ëŠ” ë§ì€ ì˜¤ë¥˜ê°€ ìˆë‹¤!

- ê°ì²´ì˜ í•„ë“œë“¤ ì¤‘ ì¼ë¶€ê°€ ë¹„ê³µê°œì—¬ì„œ ê°ì²´ ìì²´ì˜ ì™¸ë¶€ì—ì„œ ë³¼ ìˆ˜ ì—†ì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ëª¨ë“  ê°ì²´ë¥¼ ê·¸ëŸ° ì‹ìœ¼ë¡œ ë³µì‚¬í•˜ì§€ ëª»í•œë‹¤.
- ê°ì²´ì˜ ë³µì œë³¸ì„ ìƒì„±í•˜ë ¤ë©´ ê°ì²´ì˜ í´ë˜ìŠ¤ë¥¼ ì•Œì•„ì•¼ í•˜ë¯€ë¡œ, ë‹¹ì‹ ì˜ ì½”ë“œê°€ í•´ë‹¹ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ê²Œ ëœë‹¤.
- ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ê°€ ì¼ë¶€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë”°ë¥´ëŠ” ëª¨ë“  ê°ì²´ë¥¼ ìˆ˜ë½í•  ë•Œ ë‹¹ì‹ ì€ ê·¸ ê°ì²´ê°€ ë”°ë¥´ëŠ” ì¸í„°í˜ì´ìŠ¤ë§Œ ì•Œê³ , ê·¸ ê°ì²´ì˜ êµ¬ìƒ í´ë˜ìŠ¤ëŠ” ì•Œì§€ ëª»í•  ìˆ˜ë„ ìˆë‹¤.

## í•´ê²°ë²•

- **`ê°ì²´ ìŠ¤ìŠ¤ë¡œ ìì‹ ì˜ ë³µì œ ì¸ìŠ¤í„´ë¥¼ ì œê³µí•˜ë©´ ëœë‹¤! -> í”„ë¡œí†  íƒ€ì… íŒ¨í„´`**
    
    <img src="https://refactoring.guru/images/patterns/diagrams/prototype/structure.png">
    

```java
public class Item {
    private String name;
    private int price;
    private final LocalDateTime created_at;
    
    public abstract Item clone() ;
}
```

```java
public class Apple extends Item {

    private Category category;

    public Apple(String name, int price, Category category) {
        super(name, price);
        this.category = category;
    }
    public Item clone() {
        return new Apple(this.name, this.price, this.category)
    }
}
```

```java
public class OrderItmes {
    private final List<Item> items;

    public OrderItmes(List<Item> items) {
        List<Items> copyedItems = new ArraryList<>();
        for(Items item : items) {
          copyedItems.add(item.clone()); 
        } 
    }
}
```

### ì–´ë””ì„œ ì‚¬ìš©ë˜ë‚˜?

**`í”„ë¡œí† íƒ€ì… íŒ¨í„´ì€ ë³µì‚¬í•´ì•¼ í•˜ëŠ” ê°ì²´ë“¤ì˜ êµ¬ìƒ í´ë˜ìŠ¤ë“¤ì— ì½”ë“œê°€ ì˜ì¡´í•˜ë©´ ì•ˆ ë  ë•Œ ì‚¬ìš©`**

### JAVA ì—ì„œëŠ”?

- ìë°” Object í´ë˜ìŠ¤ì˜ **`clone()`** ë©”ì†Œë“œì™€ **`Cloneable`** ì¸í„°í˜ì´ìŠ¤
- ModelMapper ë¼ì´ë¸ŒëŸ¬ë¦¬
    
    [ModelMapper ì œëŒ€ë¡œ ì•Œê³  ì‚¬ìš©í•˜ì!](https://devwithpug.github.io/java/java-modelmapper/)
    

### **ì¥ì **

- ë³µì¡í•œ ê°ì²´ë¥¼ ë§Œë“œëŠ” ê³¼ì •ì„ ìˆ¨ê¸¸ ìˆ˜ ìˆë‹¤
- ê¸°ì¡´ ê°ì²´ë¥¼ ë³µì œí•˜ëŠ” ê³¼ì •ì´ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” ê²ƒë³´ë‹¤ ë¹„ìš©(ì‹œê°„ ë˜ëŠ” ë©”ëª¨ë¦¬)ì ì¸ ë©´ì—ì„œ íš¨ìœ¨ì ì¼ ìˆ˜ ìˆë‹¤
- ì¶”ìƒì ì¸ íƒ€ì…ì„ ë¦¬í„´í•  ìˆ˜ ìˆë‹¤.
- ìƒì„± íŒ¨í„´ì˜ ì¥ì ì„ ê°€ì§„ë‹¤
    
    1. ìƒì„± íŒ¨í„´ì€ ì‹œìŠ¤í…œì´ ì–´ë–¤ Concrete Classë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ ìº¡ìŠí™”í•œë‹¤.
    
    2. ìƒì„± íŒ¨í„´ì€ ì´ë“¤ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë“¤ì´ ì–´ë–»ê²Œ ë§Œë“¤ê³  ì–´ë–»ê²Œ ê²°í•©í•˜ëŠ”ì§€ì— ëŒ€í•œ ë¶€ë¶„ì„ ê°€ë ¤ì¤€ë‹¤.
    

### **ë‹¨ì **

- ë³µì œí•œ ê°ì²´ë¥¼ ë§Œë“œëŠ” ê³¼ì • ìì²´ê°€ ë³µì¡í•  ìˆ˜ ìˆë‹¤.(íŠ¹íˆ, ìˆœí™˜ì°¸ì¡°ê°€ ìˆëŠ” ê²½ìš°)

## **ë‹¤ë¥¸ íŒ¨í„´ê³¼ì˜ ê´€ê³„**

- **ë°ì½”ë ˆì´í„°**Â ë°Â **ë³µí•©ì²´**Â íŒ¨í„´ì„ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë””ìì¸ë“¤ì€Â **í”„ë¡œí† íƒ€ì…ì„** ì‚¬ìš©í•˜ë©´ ì¢…ì¢… ì´ë“ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í”„ë¡œí† íƒ€ì… íŒ¨í„´ì„ ì ìš©í•˜ë©´ ë³µì¡í•œ êµ¬ì¡°ë“¤ì„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ê±´ì¶•í•˜ëŠ” ëŒ€ì‹  ë³µì œí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
- **í”„ë¡œí† íƒ€ì…**ì€ ìƒì†ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìƒì†ê³¼ ê´€ë ¨ëœ ë‹¨ì ë“¤ì´ ì—†ìŠµë‹ˆë‹¤. ë°˜ë©´ì—Â *í”„ë¡œí† íƒ€ì…*ì€ ë³µì œëœ ê°ì²´ì˜ ë³µì¡í•œ ì´ˆê¸°í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.Â **íŒ©í† ë¦¬ ë©”ì„œë“œ**ëŠ” ìƒì†ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ì§€ë§Œ ì´ˆê¸°í™” ë‹¨ê³„ê°€ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ë•Œë¡œëŠ”Â **í”„ë¡œí† íƒ€ì…**ì´Â **ë©”ë©˜í† **Â íŒ¨í„´ì˜ ë” ê°„ë‹¨í•œ ëŒ€ì•ˆì´ ë  ìˆ˜ ìˆìœ¼ë©°, ì´ íŒ¨í„´ì€ ìƒíƒœë¥¼ ê¸°ë¡ì— ì €ì¥í•˜ë ¤ëŠ” ê°ì²´ê°€ ê°„ë‹¨í•˜ê³  ì™¸ë¶€ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ë§í¬ê°€ ì—†ê±°ë‚˜ ë§í¬ë“¤ì´ ìˆì–´ë„ ì´ë“¤ì„ ì¬ì„¤ì •í•˜ê¸° ì‰¬ìš´ ê²½ìš°ì— ì‘ë™í•©ë‹ˆë‹¤.

### ì—°ê´€ì§€ì–´ì„œ ë” ê³µë¶€í•˜ë©´ ì¢‹ì€ ë‚´ìš©

- ìë°”ì˜ Clone
- ë™ì¼ì„±ê³¼ ë™ë“±ì„±
- Shallow Copy & Deep Copy

[[Java] Shallow copy(ì–•ì€ ë³µì‚¬) vs Deep copy(ê¹Šì€ ë³µì‚¬)](https://jackjeong.tistory.com/100)

[[ì´í™í‹°ë¸Œìë°” 3íŒ] ITEM13. clone ì¬ì •ì˜ëŠ” ì£¼ì˜í•´ì„œ ì§„í–‰í•˜ë¼](https://jackjeong.tistory.com/30)

### ì°¸ì¡°(Reference)

[í”„ë¡œí† íƒ€ì… íŒ¨í„´](https://refactoring.guru/ko/design-patterns/prototype)

[ì½”ë”©ìœ¼ë¡œ í•™ìŠµí•˜ëŠ” GoFì˜ ë””ìì¸ íŒ¨í„´ - ì¸í”„ëŸ° | ê°•ì˜](https://www.inflearn.com/course/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4)
